<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.0 -->
    <script>
        window.materialVersion = "1.5.0"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Title -->
    
    <title>
        
            计算机视觉 | 
        
        Azurery
    </title>

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="Magicmanoooo">
    <meta name="description" itemprop="description" content="蒟蒻一枚">
    <meta name="keywords" content=",CV">

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(window.oldVersion){var remove=window.oldVersion.reduce(function(p,c){return p||data.indexOf("/*"+c+"*/")!==-1},false);if(remove){lsloader.removeLS(key)}}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload,isJs){if(typeof cssonload==="boolean"){isJs=cssonload;cssonload=undefined}isJs=isJs||false;cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}code=code.split(versionString)[1];if(isJs){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload,isJs)}};lsloader.requestResource=function(name,path,cssonload,isJs){var that=this;if(isJs){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else{this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Azurery">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/vibrant-ink.min.css?e5E/qqGcGveS7VTH4M896w==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-image: url(/img/bg.png);
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">


<!-- Import Material Icon -->

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://yoursite.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="计算机视觉 | Azurery">
    <meta property="og:image" content="http://yoursite.com/img/favicon.png" />
    <meta property="og:description" content="蒟蒻一枚">
    <meta property="og:article:tag" content="CV"> 

    
        <meta property="article:published_time" content="Sat Oct 20 2018 08:54:45 GMT+0800" />
        <meta property="article:modified_time" content="Sat Dec 01 2018 10:49:48 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="计算机视觉 | Azurery">
    <meta name="twitter:description" content="蒟蒻一枚">
    <meta name="twitter:image" content="http://yoursite.com/img/favicon.png">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://yoursite.com" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://yoursite.com/2018/10/20/计算机视觉/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://yoursite.com/2018/10/20/计算机视觉/index.html",
    "headline": "计算机视觉",
    "datePublished": "Sat Oct 20 2018 08:54:45 GMT+0800",
    "dateModified": "Sat Dec 01 2018 10:49:48 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "Magicmanoooo",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "秘境，探寻你的足迹"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Azurery",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": ",CV",
    "description": "蒟蒻一枚",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#图像匹配"><span class="post-toc-number">1.</span> <span class="post-toc-text">图像匹配</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#卷积（convolution）"><span class="post-toc-number">2.</span> <span class="post-toc-text">卷积（convolution）</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#边界问题"><span class="post-toc-number">3.</span> <span class="post-toc-text">边界问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-补零填充"><span class="post-toc-number">4.</span> <span class="post-toc-text">1. 补零填充</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-边界复制填充"><span class="post-toc-number">5.</span> <span class="post-toc-text">2. 边界复制填充</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-镜像填充"><span class="post-toc-number">6.</span> <span class="post-toc-text">3. 镜像填充</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-块填充"><span class="post-toc-number">7.</span> <span class="post-toc-text">4. 块填充</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Sobel-operator"><span class="post-toc-number"></span> <span class="post-toc-text">Sobel operator</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#原理"><span class="post-toc-number">1.</span> <span class="post-toc-text">原理</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Sobel算子的用途"><span class="post-toc-number">2.</span> <span class="post-toc-text">Sobel算子的用途</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Fourier-transform"><span class="post-toc-number"></span> <span class="post-toc-text">Fourier transform</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#模板匹配（matchTemplate"><span class="post-toc-number"></span> <span class="post-toc-text">模板匹配（matchTemplate)</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#工作原理"><span class="post-toc-number">1.</span> <span class="post-toc-text">工作原理</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#图像放缩中最近邻插值和双线性插值的基本原理"><span class="post-toc-number"></span> <span class="post-toc-text">图像放缩中最近邻插值和双线性插值的基本原理</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#最近邻插值"><span class="post-toc-number">1.</span> <span class="post-toc-text">最近邻插值</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#双线性插值"><span class="post-toc-number">2.</span> <span class="post-toc-text">双线性插值</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#加速以及优化策略"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">加速以及优化策略</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#源图像和目标图像几何中心的对齐"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">源图像和目标图像几何中心的对齐　　</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#将浮点运算转换成整数运算"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">将浮点运算转换成整数运算</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#直方图均衡化"><span class="post-toc-number">3.</span> <span class="post-toc-text">直方图均衡化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#图像的直方图是什么"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">图像的直方图是什么?</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#HOG（方向梯度直方图，Histogram-of-Oriented-Gradient）"><span class="post-toc-number"></span> <span class="post-toc-text">HOG（方向梯度直方图，Histogram of Oriented Gradient）</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#颜色空间的归一化"><span class="post-toc-number">1.</span> <span class="post-toc-text">颜色空间的归一化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#梯度计算"><span class="post-toc-number">2.</span> <span class="post-toc-text">梯度计算</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#计算细胞单元的梯度直方图"><span class="post-toc-number">3.</span> <span class="post-toc-text">计算细胞单元的梯度直方图</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对组合成块的梯度直方图作归一化"><span class="post-toc-number">4.</span> <span class="post-toc-text">对组合成块的梯度直方图作归一化</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对归一化梯度特征进行SVM分类："><span class="post-toc-number">5.</span> <span class="post-toc-text">对归一化梯度特征进行SVM分类：</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#LBP特征"><span class="post-toc-number"></span> <span class="post-toc-text">LBP特征</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-原始LBP特征描述及计算方法"><span class="post-toc-number">1.</span> <span class="post-toc-text">1. 原始LBP特征描述及计算方法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-LBP特征的改进"><span class="post-toc-number">2.</span> <span class="post-toc-text">2. LBP特征的改进</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-圆形LBP特征（Circular-LBP-or-Extended-LBP）"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">2.1 圆形LBP特征（Circular LBP or Extended LBP）</span></a></li></ol></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                计算机视觉
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Magicmanoooo</strong>
        <span>10月 20, 2018</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">devices other</i>
    <span class="visuallyhidden">devices other</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
    <li class="mdl-menu__item">在其它设备中阅读本文章</li>
    
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAN4AAADeCAAAAAB3DOFrAAACb0lEQVR42u3bS1IDMQwFwNz/0rClKsR5kj+YVM8qRQbbPYuxeRKPr4++Hnh4eHh4eHh4eJfxHvE1vv/nt8/j/7KIp98d35OsDQ8PD+8k782r9sWix9MkmPEDaq4NDw8P7yAved0njPGDSO7srQ0PDw/vTl6ylJkD9IK14eHh4V3MGy/x1ci9TQgPDw/vTl7yyi7EqcHISVRxNGvBw8PDi3nVAtjJz39Q38PDw8Mb8pqNTfErO98eVl14eHh4u3lJFJsU/vNxykfkIN7Fw8PDO8nLS1zVyXqh7Xw7LB4eHt55XnXQ5EHk/zaQH9Nfbj94eHh4m3nJQvNpcnY+b7XMhoeHh3eGN3/YzeOGBDDViICHh4e3mTcTRlQxCaAaQ2zMWvDw8PCC1oFeTJDHr71FLyiA4eHh4S3l9UpNMxFGfmTvzYWHh4d3hjdTEqs2Y+UxbnVePDw8vDO8/FVebSPoLbfcYpX/xYCHh4d3kFcNeauBbB5/NHvK8PDw8Dbz8qXPlMSqR+pC5IGHh4e3mTePyX93vlkh+jkeHh7eZl4veqgGCmubEpphBB4eHt4iXrVZKvm2es/MhYeHh3eel8QE1Xvmj9TVQhoeHh7eSd5MwSkvblVHmyqk4eHh4W3m9Y6weZg7DiyScaphLh4eHt5u3qrXcX7szltUm+EvHh4e3hFeOSrttUPFUe9UqwEeHh7eQV6+GeQLWhXjFjYkPDw8vH/CSwLcXnhRLo/h4eHhXcarkqpls3wTwsPDw7uBl4cRvQJV/vjyz1tiXDw8PLxtBbC88J9vAMn282YcPDw8vM28z7vw8PDw8PDw8PAuuL4BUTW1qcXMGakAAAAASUVORK5CYII=">
    
</ul>

    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/CV/">CV</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=计算机视觉&url=http://yoursite.com/2018/10/20/计算机视觉/index.html&pic=http://yoursite.com/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=计算机视觉&url=http://yoursite.com/2018/10/20/计算机视觉/index.html&via=Magicmanoooo" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2018/10/20/计算机视觉/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://yoursite.com/2018/10/20/计算机视觉/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Azurery&title=计算机视觉&summary=蒟蒻一枚&pics=http://yoursite.com/img/favicon.png&url=http://yoursite.com/2018/10/20/计算机视觉/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <h2 id="图像匹配"><a href="#图像匹配" class="headerlink" title="图像匹配"></a>图像匹配</h2><p>图像主要可以分为两大类：</p>
<ol>
<li><strong>像素匹配：</strong>两帧图像间完整的匹配关系，计算复杂度高，因此通常以特征匹配为基础。</li>
<li><strong>特征匹配：</strong>两帧图像间关键的匹配关系，计算复杂度相对较低，可建立匹配关系的高层描述，是图像匹配的重点研究内容。方法由“特征提取”（feature detection）、“特征匹配”（feature matching）两个步骤构成。</li>
</ol>
<p>主流的图像匹配方法主要是采用<strong>特征提取：卷积</strong>的形式。它的做法是：<strong>用其邻域的加权平均值替换每个像素</strong>。而这个weight称为<strong>filter kernel</strong>。</p>
<p>以下是一个<code>3*3</code>大小的filter（box filter）的weiht示例：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-5702ad8dfef8184b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="卷积（convolution）"><a href="#卷积（convolution）" class="headerlink" title="卷积（convolution）"></a>卷积（convolution）</h2><p><img src="https://upload-images.jianshu.io/upload_images/1351548-bccbaec63cfe14f7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>为了能够将卷积公式与傅里叶变换建立联系，所以在进行卷积的时候，一般先将kernel进行翻转。</p>
<p>数字图像是一个二维的离散信号，对数字图像做卷积操作其实就是利用卷积核（卷积模板）在图像上滑动，将图像点上的像素灰度值与对应的卷积核上的数值相乘，然后将所有相乘后的值相加作为卷积核中间像素对应的图像上像素的灰度值，并最终滑动完所有图像的过程。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-07ef7444e4c0a484.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>上图可以清晰的表征出整个卷积过程中一次相乘后相加的结果：该图片选用<code>3x3</code>的卷积核，卷积核内共有九个数值，所以图片右上角公式中一共有九行，而每一行都是图像像素值与卷积核上数值相乘，最终结果<code>-8</code>代替了原图像中对应位置处的<code>1</code>。这样沿着图片步长为<code>1</code>滑动，每一个滑动后都一次相乘再相加的工作，就可以得到最终的输出结果。除此之外，卷积核的选择有一些规则：<br>1）卷积核的大小一般是奇数，这样的话它是按照中间的像素点中心对称的，所以卷积核一般都是<code>3x3</code>，<code>5x5</code>或者<code>7x7</code>。有了中心，便有了半径的概念，例如<code>5x5</code>大小的核的半径就是<code>2</code>。<br>2）卷积核所有的元素之和一般要等于<code>1</code>，这是为了原始图像的能量（亮度）守恒。其实也有卷积核元素相加不为<code>1</code>的情况。<br>3）如果滤波器矩阵所有元素之和大于<code>1</code>，那么滤波后的图像就会比原图像更亮，反之，如果小于<code>1</code>，那么得到的图像就会变暗。如果和为<code>0</code>，图像不会变黑，但也会非常暗。 </p>
<p>4）对于滤波后的结构，可能会出现负数或者大于<code>255</code>的数值。对这种情况，我们将他们直接截断到<code>0</code>和<code>255</code>之间即可。对于负数，也可以取绝对值。</p>
<h2 id="边界问题"><a href="#边界问题" class="headerlink" title="边界问题"></a>边界问题</h2><p>上面的图片说明了图像的卷积操作，但是也反映出一个问题，如上图，原始图片尺寸为<code>7*7</code>，卷积核的大小为<code>3*3</code>，当卷积核沿着图片滑动后，只能滑动出一个<code>5*5</code>的图片出来，这就造成了卷积后的图片和卷积前的图片尺寸不一致，这显然不是想要的结果，所以为了避免这种情况，需要先对原始图片做边界填充处理。对于上面的情况，需要先把原始图像填充为<code>9*9</code>的尺寸。</p>
<p>常用的区域填充方法包括（例如，用<code>3*3</code>定义原始图像的尺寸，补充为<code>9*9</code>的尺寸）： </p>
<p>原始图像：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-c95bba2ce6109f01.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="1-补零填充"><a href="#1-补零填充" class="headerlink" title="1. 补零填充"></a>1. 补零填充</h2><p><img src="https://upload-images.jianshu.io/upload_images/1351548-6a2e3c70995e2dcb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="2-边界复制填充"><a href="#2-边界复制填充" class="headerlink" title="2. 边界复制填充"></a>2. 边界复制填充</h2><p><img src="https://upload-images.jianshu.io/upload_images/1351548-f4d3377f9efa7701.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="3-镜像填充"><a href="#3-镜像填充" class="headerlink" title="3. 镜像填充"></a>3. 镜像填充</h2><p><img src="https://upload-images.jianshu.io/upload_images/1351548-7e938c28bbb7aab6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="4-块填充"><a href="#4-块填充" class="headerlink" title="4. 块填充"></a>4. 块填充</h2><p><img src="https://upload-images.jianshu.io/upload_images/1351548-a62338f898d3a2e0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h1 id="Sobel-operator"><a href="#Sobel-operator" class="headerlink" title="Sobel operator"></a>Sobel operator</h1><p>Sobel算子主要用于获得数字图像的一阶梯度，常见的应用和物理意义是边缘检测。</p>
<h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>Sobel算子有两个滤波矩阵：<img src="https://upload-images.jianshu.io/upload_images/1351548-a23d63df81c563c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">和 Gy, <img src="https://upload-images.jianshu.io/upload_images/1351548-a23d63df81c563c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">用来计算横向的梯度, <img src="https://upload-images.jianshu.io/upload_images/1351548-19e5b6ec9e0d0f1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">用来计算纵向的梯度。下图是具体的滤波器：<br><img src="https://upload-images.jianshu.io/upload_images/1351548-954928b2870cd376.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><img src="https://upload-images.jianshu.io/upload_images/1351548-b43f5d6b6ba1594d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><strong>【注】：</strong>当kernel的大小为<code>3x3</code>时，上面显示的Sobel kernel可能会产生明显的不准确性（因为Sobel只是导数的近似值）。使用了以下的kernel可以有效地解决这种问题：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-bd2c68f986e92db5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="Sobel算子的用途"><a href="#Sobel算子的用途" class="headerlink" title="Sobel算子的用途"></a>Sobel算子的用途</h2><p>它可以用来对图像进行边缘检测, 或者用来计算某个像素点的法线向量. 这里需要注意的是:<br>边缘检测时：<img src="https://upload-images.jianshu.io/upload_images/1351548-a23d63df81c563c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">用于检测纵向边缘，<img src="https://upload-images.jianshu.io/upload_images/1351548-19e5b6ec9e0d0f1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">用于检测横向边缘。<br>计算法线时：<img src="https://upload-images.jianshu.io/upload_images/1351548-a23d63df81c563c5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">用于计算法线的横向偏移，<img src="https://upload-images.jianshu.io/upload_images/1351548-19e5b6ec9e0d0f1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">用于计算法线的纵向偏移。</p>
<h1 id="Fourier-transform"><a href="#Fourier-transform" class="headerlink" title="Fourier transform"></a>Fourier transform</h1><p>傅里叶变换是一种线性积分变换，用于信号在时域（或空域）和频域之间的变换。</p>
<p><strong>时域</strong>，即世界随时间的变化而发生的最直观的改变。严格上说，是信号与时间的对应关系。</p>
<p><strong>频域</strong> ，相对于时域而言，不容易通过直接观察得到的，但是却是一种最简单的方式，可以用来描述这个世界的运动规律。严格上说，频域是时间与状态的对应关系。</p>
<p>时域主要用来直观的观察变换，而频域则是描述变换的一个趋势。例如，暂时把频域作为一个矢量来看，类似于用速度描述一个人的状态；而路程和时间的关系，则体现速度的快慢。但是，在一个很微小的时间内（人是感觉不到变化的）。所以同样的，就很难描述这个时间里面发生的事。但是，频域就能时刻展现这个变换的趋势，通过计算就可以很直观的看到整个变换了。</p>
<p>例如下图，能够直观的看到小球在<code>t1</code>时刻的位置和<code>t2</code>时刻的位置，但是看不到在这两个时刻，小球的速度是多少，只知道速度的快慢，也就是小球在下一刻移动的距离远近，而这个速度就是在数学上严谨的一个描述性的矢量，就是所说的频域。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-d250c9f5afb1647a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h1 id="模板匹配（matchTemplate"><a href="#模板匹配（matchTemplate" class="headerlink" title="模板匹配（matchTemplate)"></a>模板匹配（<code>matchTemplate</code>)</h1><p>模板匹配是一种用于查找与模板图像（<code>patch</code>）匹配（相似）的图像区域的技术。</p>
<p>虽然<code>patch</code>必须是矩形，但并非所有矩形都是相关的。 在这种情况下，可以利用<code>mask</code>来进行隔离，从而找到匹配的<code>patch</code>部分。</p>
<p>模板匹配是一种最原始、最基本的模式识别方法，研究某一特定对象物的图案位于图像的什么地方，进而识别对象物，这就是一个匹配问题。它是图像处理中最基本、最常用的匹配方法。模板匹配具有自身的局限性，主要表现在它只能进行平行移动，若原图像中的匹配目标发生旋转或大小变化，该算法无效。</p>
<p><strong>简而言之，模板匹配就是在整个图像区域发现与给定子图像匹配的小块区域</strong></p>
<h2 id="工作原理"><a href="#工作原理" class="headerlink" title="工作原理"></a>工作原理</h2><p>在待检测图像上，从左到右，从上向下计算模板图像与重叠子图像的匹配度，匹配程度越大，两者相同的可能性越大。</p>
<h1 id="图像放缩中最近邻插值和双线性插值的基本原理"><a href="#图像放缩中最近邻插值和双线性插值的基本原理" class="headerlink" title="图像放缩中最近邻插值和双线性插值的基本原理"></a>图像放缩中最近邻插值和双线性插值的基本原理</h1><h2 id="最近邻插值"><a href="#最近邻插值" class="headerlink" title="最近邻插值"></a>最近邻插值</h2><p>例如，有一张<code>3x3</code>的<code>256</code>级灰度图（原始图把它叫做源图，<code>src</code>），假设其像素矩阵如下图所示：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-b4ed1a20337506f1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>如果把这副图放大为 <code>4x4</code>大小的图像，那么该怎么做呢？第一步，先把<code>4x4</code>的矩阵画出来，如下所示(矩阵的每个像素目前都是未知数，需要被填充，这个将要被填充的图的叫做目标图，<code>dst</code>）：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-4270606b3a9f317d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>然后，需要对这个空的矩阵进行填值，要填的值从<code>src</code>中来。先填写<code>dst</code>最左上角的象素，坐标为<code>(0,0)</code>。该坐标对应<code>src</code>中的坐标为：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-fa9ca170ef2edc6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>利用上述公式，便可以可以找到对应的<code>src</code>的坐标：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-b6b08673ddcdd469.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>这样便找到了<code>src</code>的对应坐标，就可以把<code>src</code>中坐标为<code>(0,0)</code>处的<code>234</code>像素值填进<code>dest</code>的<code>(0,0)</code>这个位置上。</p>
<p>寻找目标图中坐标为<code>(1,0)</code>像素对应<code>dest</code>中的坐标。利用公式，可得：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-531dfab124829651.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>结果发现，得到的坐标里面竟然有小数。计算机里的图像是数字图像，像素已经是最小单位，所以像素的坐标必须都是整数。这时，采用的采用四舍五入的方法（也可以采用直接舍掉小数位的方法），把非整数坐标转换成整数，得到<code>(1,0)</code>。</p>
<p>依次填充每个像素，放大后的图像便诞生了，其像素矩阵为：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-d0b9376233c6fabc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这种放大图像的方法叫做：<strong>最临近插值算法</strong>。它是一种最基本、最简单的图像缩放算法，效果也是最不好的，放大后的图像有很严重的马赛克，缩小后的图像有很严重的失真</p>
<p>这种方法效果造成了严重的图像失真。比如，当由<code>dst</code>的坐标反推得到<code>src</code>的的坐标时，得到的是一个浮点数时，采用了四舍五入的方法（即，直接采用了和这个浮点数最接近的像素的值）。这种方法是很不科学的，当推得坐标值为<code>0.75</code>时，不应该就简单的取为<code>1</code>。目标像素值其实应该根据这个源图中虚拟的点四周的四个真实的点，按照一定的规律计算出来，这样才能达到更好的缩放效果。</p>
<h2 id="双线性插值"><a href="#双线性插值" class="headerlink" title="双线性插值"></a>双线性插值</h2><p>双线性插值算法是一种比较好的图像缩放算法，它充分利用了源图中虚拟点四周的四个真实存在的像素值，来共同决定目标图中的一个像素值，因此缩放效果比简单的最邻近插值要好很多。</p>
<p>双线性插值，就是两个方向的线性插值加起来。所以，只要了解什么是线性插值，分别在<code>x</code>轴和<code>y</code>轴都做一遍，就是双线性插值。</p>
<p>线性插值的概念非常简单，就是两个点<code>A</code>、<code>B</code>中间插入一个点<code>C</code>（点<code>C</code>坐标在<code>AB</code>连线上），直接让<code>C</code>的值落在<code>AB</code>的值的连线上就行。</p>
<p>例如，<code>A</code>点坐标<code>(0,0)</code>，值为<code>3</code>；<code>B</code>点坐标<code>(0,2)</code>，值为<code>5</code>。对坐标为<code>(0,1)</code>的点<code>C</code>进行插值，就让<code>C</code>落在<code>AB</code>线上，值为<code>4</code>就可以。但是，如果<code>C</code>不在<code>AB</code>的线上怎么办？所以，就有了双线性插值。</p>
<p>如图，已知<code>Q12</code>、<code>Q22</code>、<code>Q11</code>、<code>Q21</code>，但要插值的点为<code>P</code>点，这就需要用双线性插值。首先，在<code>x</code>轴方向上，对<code>R1</code>和<code>R2</code>两个点进行插值，然后根据<code>R1</code>和<code>R2</code>对<code>P</code>点进行插值，这就是所谓的双线性插值。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-d08578621da06a85.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>假如我们想得到未知函数<img src="https://upload-images.jianshu.io/upload_images/1351548-74cec702d464a678.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">在点 <img src="https://upload-images.jianshu.io/upload_images/1351548-2d774900971b893f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">的值，假设我们已知函数<img src="https://upload-images.jianshu.io/upload_images/1351548-74cec702d464a678.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">在<img src="https://upload-images.jianshu.io/upload_images/1351548-6d2faae85dce8233.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">四个点的值。</p>
<p>首先，在<code>x</code>方向进行线性插值，得到：<br><img src="https://upload-images.jianshu.io/upload_images/1351548-7f52ee51b012fd53.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>然后，在<code>y</code>方向进行线性插值，得到：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-779a78f2fd577ac9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>这样就得到所要的结果<img src="https://upload-images.jianshu.io/upload_images/1351548-90fe056a5e4e2688.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-0bfee365e27969ae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>如果选择一个坐标系统使得<img src="https://upload-images.jianshu.io/upload_images/1351548-74cec702d464a678.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">在点 <img src="https://upload-images.jianshu.io/upload_images/1351548-2d774900971b893f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">的四个已知点坐标分别为<code>(0, 0)</code>、<code>(0,1)</code>、<code>(1,0)</code>和<code>(1,1)</code>，则插值公式就可以化简为：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-e4dbf80ae917719d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>或用矩阵运算表示为：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-112e54ca7ca99232.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br><strong>双线性插值算法描述如下</strong>:<br>对于一个目的像素，设置坐标通过反向变换得到的浮点坐标为<code>(i+u,j+v)</code>（其中<code>i</code>、<code>j</code>均为浮点坐标的整数部分，<code>u</code>、<code>v</code>为浮点坐标的小数部分，是取值<code>[0,1)</code>区间的浮点数）。则这个像素的值<code>f(i+u,j+v)</code>可由原图像中坐标为<code>(i,j)</code>、<code>(i+1,j)</code>、<code>(i,j+1)</code>、<code>(i+1,j+1)</code>所对应的周围四个像素的值决定，即：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-8afb260027494d05.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>其中，<img src="https://upload-images.jianshu.io/upload_images/1351548-36c38b5aec5f16e6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">表示源图像<code>(i,j)</code>处的的像素值。</p>
<p>依旧用刚才的例子，现在，假如目标图的像素坐标为<code>(1,1)</code>，那么反推得到对应于源图的坐标是<code>(0.75,0.75)</code>。这其实只是一个概念上的虚拟像素，实际在源图中并不存在这样一个像素，那么目标图的像素<code>(1,1)</code>的取值不能由这个虚拟像素来决定，而应该由源图的这四个像素共同决定：<code>(0,0)</code>、<code>(0,1)</code>、<code>(1,0)</code>、<code>(1,1)</code>。而由于<code>(0.75,0.75)</code>离<code>(1,1)</code>要更近一些，那么<code>(1,1)</code>所起的决定作用更大一些。从上述公式中的系数<code>uv=0.75×0.75</code>可以体现出来，而<code>(0.75,0.75)</code>离<code>(0,0)</code>最远，所以<code>(0,0)</code>所起的决定作用就要小一些，公式中系数为<code>(1-u)(1-v)=0.25×0.25</code>也体现了这一特点。</p>
<p>双线性插法的计算比最邻近点法复杂，计算量较大，但没有灰度不连续的缺点，结果基本令人满意。它具有低通滤波性质，使高频分量受损，图像轮廓可能会有一点模糊。</p>
<h3 id="加速以及优化策略"><a href="#加速以及优化策略" class="headerlink" title="加速以及优化策略"></a>加速以及优化策略</h3><p>单纯按照上述实现的插值算法只能勉强完成插值的功能，速度和效果都不理想，在具体代码实现的时候有些小技巧：</p>
<ul>
<li>源图像和目标图像几何中心的对齐。</li>
<li>将浮点运算转换成整数运算</li>
</ul>
<h3 id="源图像和目标图像几何中心的对齐"><a href="#源图像和目标图像几何中心的对齐" class="headerlink" title="源图像和目标图像几何中心的对齐　　"></a>源图像和目标图像几何中心的对齐　　</h3><p>方法：在计算源图像的虚拟浮点坐标的时候，一般情况为：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-fa9ca170ef2edc6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""><br>　　<br>中心对齐(OpenCV也是如此)：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-5ee3e662422163da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><strong>原理</strong>：<br>将公式变形:</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-b21b25f03e1e3d7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>相当于在原始的浮点坐标上加上了<img src="https://upload-images.jianshu.io/upload_images/1351548-9001bd5bf22f9628.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">这样一个控制因子，该项的符号可正可负，与<img src="https://upload-images.jianshu.io/upload_images/1351548-d589c5131238e30f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">的比值，也就是当前插值是扩大还是缩小图像有关。至于它的的作用，看一个例子：假设源图像是<code>3*3</code>，中心点坐标为<code>(1,1)</code>，目标图像是<code>9*9</code>，中心点坐标为<code>(4,4)</code>。在进行插值映射的时候，尽可能均匀地用到源图像的像素信息，最直观的就是：<code>(4,4)</code>映射到<code>(1,1)</code>。现在直接计算<img src="https://upload-images.jianshu.io/upload_images/1351548-a66cc6237b2f86bc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">，也就是我们在插值的时候所利用的像素集中在图像的右下方，而不是均匀分布整个图像。现在考虑中心点对齐，<img src="https://upload-images.jianshu.io/upload_images/1351548-38535466351bb514.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">，刚好满足我们的要求。</p>
<h3 id="将浮点运算转换成整数运算"><a href="#将浮点运算转换成整数运算" class="headerlink" title="将浮点运算转换成整数运算"></a>将浮点运算转换成整数运算</h3><p>直接进行计算的话，由于计算的<img src="https://upload-images.jianshu.io/upload_images/1351548-f19a6db3fbdedf8d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">和<img src="https://upload-images.jianshu.io/upload_images/1351548-d1a45adc9cd57859.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">都是浮点数，后续会进行大量的乘法，而图像数据量又大，速度不理想。<strong>解决思路是：浮点运算→整数运算→左右移位运算</strong>。</p>
<p>放大的主要对象是<code>u</code>，<code>v</code>这些浮点数，OpenCV选择的放大倍数是<code>2048</code>（利用左移11位操作就可以达到放大目的）。选取合适的放大倍数需要从三个方面考虑：</p>
<ul>
<li>精度问题，如果这个数取得过小，那么经过计算后可能会导致结果出现较大的误差</li>
<li>这个数不能太大，太大会导致计算过程超过长整形所能表达的范围</li>
<li>速度考虑。假如放大倍数取为<code>12</code>，那么算式在最后的结果中应该需要除以<code>12*12=144</code>，但是如果取为<code>16</code>，则最后的除数为<code>16*16=256</code>。这个数字好，可以用右移来实现，而右移要比普通的整除快很多</li>
</ul>
<h2 id="直方图均衡化"><a href="#直方图均衡化" class="headerlink" title="直方图均衡化"></a>直方图均衡化</h2><p>很多时候，图片看起来的效果不是那么清晰，这时便可以对图像进行一些处理来扩大图像的像素值显示的范围。</p>
<p>例如，有些图像整体像素值偏低，图像中的一些特征看的不是很清晰，只是隐约看到一些轮廓痕迹，这时便可以经过图像直方图均衡化之后使得图像看起来亮一些，也便于后续的处理。直方图均衡化是灰度变换的一个重要应用，它高效且易于实现，广泛应用于图像增强处理中。图像的像素灰度变化是随机的，直方图的图形高低不齐，直方图均衡化就是用一定的算法使直方图大致平和的方法。</p>
<h3 id="图像的直方图是什么"><a href="#图像的直方图是什么" class="headerlink" title="图像的直方图是什么?"></a>图像的直方图是什么?</h3><ul>
<li>直方图是图像中像素强度分布的图形表达方式</li>
<li>它统计了每一个强度值所具有的像素个数</li>
</ul>
<p>简而言之，<strong>直方图均衡化是通过拉伸像素强度分布范围来增强图像对比度的一种方法</strong>。</p>
<h1 id="HOG（方向梯度直方图，Histogram-of-Oriented-Gradient）"><a href="#HOG（方向梯度直方图，Histogram-of-Oriented-Gradient）" class="headerlink" title="HOG（方向梯度直方图，Histogram of Oriented Gradient）"></a>HOG（方向梯度直方图，Histogram of Oriented Gradient）</h1><p>HOG是一种<strong>能对物体进行检测的、基于形状边缘特征的描述算子</strong>，它的基本思想是：<strong>利用梯度信息能很好的反映图像目标的边缘信息，并通过局部梯度的大小将图像局部的外观和形状特征化</strong>。利用梯度HOG特征并结合其他特征对人体进行检测得到了较好的结果。</p>
<p>HOG特征提取的主要步骤:</p>
<h2 id="颜色空间的归一化"><a href="#颜色空间的归一化" class="headerlink" title="颜色空间的归一化"></a>颜色空间的归一化</h2><p>在现实的情况，图像目标会出现在不同的环境中，光照也会有所不一样，颜色空间归一化就是：<strong>对整幅图像的颜色信息作归一化处理，从而减少不同光照及背景的影响，也为了提高检测的鲁棒性</strong>。引入<em>图像Gamma</em>和<em>颜色空间归一化</em>来作为特征提取的预处理手段（RGB还有LAB色彩空间能使检测结果大致相同且能起到积极的影响。此外，分别在每个颜色通道上使用两种不同的Gamma归一化方式，取平方根或者使用对数法，最终验证这一预处理对检测的结果几乎没有影响，而不能对图像进行高斯平滑处理，因平滑处理会降低图像目标边缘信息的辨识度，影响检测结果）。</p>
<p>为了减少光照因素的影响，首先需要将整个图像进行规范化（归一化）。在图像的纹理强度中，局部的表层曝光贡献的比重较大，所以，这种压缩处理能够有效地降低图像局部的阴影和光照变化。因为颜色信息作用不大，通常先转化为灰度图。</p>
<p>Gamma压缩公式：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-7b19c924ceb01747.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="梯度计算"><a href="#梯度计算" class="headerlink" title="梯度计算"></a>梯度计算</h2><p><strong>边缘是由图像局部特征包括灰度、颜色和纹理的突变导致的</strong>。一幅图像中，相邻的像素点之间变化比较少，区域变化比较平坦，则梯度幅值就会比较小；反之，则梯度幅值就会比较大（梯度在图像中对应的就是其一阶导数）。</p>
<p>模拟图像<img src="https://upload-images.jianshu.io/upload_images/1351548-b721d688d8091582.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">中任一像素点<img src="https://upload-images.jianshu.io/upload_images/1351548-b206c4de43b14e04.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">的梯度是一个矢量：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-7024176d0a7fbc28.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>数字图像中像素点的梯度是用差分来计算的：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-45e756d47d147166.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>一维离散微分模板在将图像的梯度信息简单、快速且有效地计算出来，其公式如下：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-548f31e4527ad1e1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>梯度的幅值及方向计算公式如下：</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-53999fc63c1915eb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>不同的梯度运算模板的检测效果上也不一样。使用简单的一维离散微分模板<img src="https://upload-images.jianshu.io/upload_images/1351548-49b28849eebf5911.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">和<img src="https://upload-images.jianshu.io/upload_images/1351548-47d39b6ca88d4662.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">梯度算子分别得到<code>x</code>和<code>y</code>方向梯度（得到的检测效果是最好的，而使用其他形式的梯度运算模板如<em>Prewitt</em>和<em>Sobel</em>等算子，不仅增加运算量而同时也降低了其检测效果）。然后再利用公式计算该像素点的梯度大小和方向</p>
<h2 id="计算细胞单元的梯度直方图"><a href="#计算细胞单元的梯度直方图" class="headerlink" title="计算细胞单元的梯度直方图"></a>计算细胞单元的梯度直方图</h2><p>这一步的主要目的是为局部图像区域提供一个编码，同时能够保持对图像中人体对象的姿势和外观的弱敏感性。</p>
<p>对于整个目标窗口，需要将其分成互不重叠大小相同的细胞单元（cell），然后分别计算出每个cell的梯度信息，包括梯度大小和梯度方向。</p>
<p>将像素的梯度方向在<code>0-360°</code>区间内，平均划分为<code>9</code>个<code>bins</code>（超过<code>9</code>个时，不仅检测性能没有明显的提高，反而增加了检测运算量）。每个cell内的像素为其所在的梯度方向直方图进行加权投票，加权的权值可以是像素本身的梯度幅值，也可以是幅值的平方或平方根等，而若使用平方或平方根，实验的检测性能会有所降低，使用梯度幅值的实验效果更可靠。</p>
<h2 id="对组合成块的梯度直方图作归一化"><a href="#对组合成块的梯度直方图作归一化" class="headerlink" title="对组合成块的梯度直方图作归一化"></a>对组合成块的梯度直方图作归一化</h2><p>从梯度计算公式中可以看出，梯度幅值绝对值的大小容易受到前景与背景对比度及局部光照的影响，要减少这种影响得到较准确的检测效果就必须对局部细胞单元进行归一化处理。</p>
<p>归一化的基本思想：将几个细胞单元（cell）组合成更大的块（block），这时，整幅图像就可看成是待检测窗口，将更大的块看成是滑动窗口，依次从左到右从上到下进行滑动，得到一些有重复细胞单元的块及一些相同细胞单元（cell）在不同块（block）中的梯度信息，再对这些块（block）信息分别作归一化处理，不同的细胞单元尺寸大小及不同块的尺寸大小会影响最终的检测效果。</p>
<p>假设检测的窗口的尺寸为<code>64×64</code>像素，分成<code>4×4=16</code>个细胞单元(cell)，如下图，<code>16×16</code>像素是每个细胞单元的大小，块（block）是由相邻的<code>2×2=4</code>个细胞单元组成的（如图紫色的小框）。滑动窗口的大小为一个块的大小，依次将滑动窗口从左到右从上到下进行滑动来获得整个待测窗口的边缘信息，得到<code>9</code>个块，统计这<code>9</code>个块在<code>9</code>个不同方向上的梯度信息，在整个窗口中得到的梯度特征是<code>9×9=81</code>维的向量。</p>
<p>在实际情况中，检测窗口的大小为<code>128×64</code>像素，一个细胞单元的大小为<code>8×8</code>像素，由<code>2×2</code>个细胞单元组成大小为<code>16×16</code>像素的块，一个细胞单元的梯度直方图化成<code>9</code>个<code>bins</code>，块的移动步长是<code>8</code>个像素，则检测窗口在图像中移动的步长也为<code>8</code>个像素，这样检测窗口就有<code>((128-16)/8+1)×((64-16)/8+1)= 105</code>个块，一个块有<code>4</code>个细胞单元，每个细胞单元的HOG特征向量长度是<code>9</code>，则最终的HOG特征描述符大小就是<code>105×4×9 = 3780</code>维。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-67b8ce1ccbed0053.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-f32ca18db4368a17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">范数（<img src="https://upload-images.jianshu.io/upload_images/1351548-947baa1e9b30237d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">）、<img src="https://upload-images.jianshu.io/upload_images/1351548-5d5f5e241a5c8738.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">范数（<img src="https://upload-images.jianshu.io/upload_images/1351548-52f18ae628c56b37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">）</p>
<p>归一化计算公式为：<br><img src="https://upload-images.jianshu.io/upload_images/1351548-f32ca18db4368a17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">归一化：<img src="https://upload-images.jianshu.io/upload_images/1351548-ee154fad3bade092.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-f32ca18db4368a17.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">平方根归一化：<img src="https://upload-images.jianshu.io/upload_images/1351548-d99d7b296c5bb0c4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-5d5f5e241a5c8738.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">归一化：<img src="https://upload-images.jianshu.io/upload_images/1351548-ed9ec957d426672a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="对归一化梯度特征进行SVM分类："><a href="#对归一化梯度特征进行SVM分类：" class="headerlink" title="对归一化梯度特征进行SVM分类："></a>对归一化梯度特征进行SVM分类：</h2><p>如下图所示，对于滑动窗口提取的<code>2</code>个窗口，分别计算出归一化的梯度特征，然后应用SVM实现是人还是背景的分类判定。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-aac2ad0c68e5d558.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>HOG特征的优点：</p>
<ul>
<li>由于HOG是在图像的局部方格单元上操作，所以它对图像几何和光学的形变都能保持很好的不变性，这两种形变只会出现在更大的空间领域上。</li>
<li>在粗的空域抽样、精细的方向抽样以及较强的局部光学归一化等条件下，只要行人大体上能够保持直立的姿势，可以容许行人有一些细微的肢体动作，这些细微的动作可以被忽略而不影响检测效果。</li>
</ul>
<p>因此，HOG特征是特别适合于做图像中的人体检测的。</p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-4c2b90a22233dcd7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p><a href="http://www.cnblogs.com/tornadomeet/archive/2012/08/15/2640754.html" target="_blank" rel="noopener">OpenCV中HOG的源码分析</a></p>
<h1 id="LBP特征"><a href="#LBP特征" class="headerlink" title="LBP特征"></a>LBP特征</h1><p>LBP（Local Binary Pattern）指局部二值模式，是一种用来描述图像局部特征的算子，LBP特征具有灰度不变性和旋转不变性等显著优点。由于LBP特征计算简单、效果较好，因此LBP特征在计算机视觉的许多领域都得到了广泛的应用，LBP特征比较出名的应用是用在人脸识别和目标检测中。</p>
<h2 id="1-原始LBP特征描述及计算方法"><a href="#1-原始LBP特征描述及计算方法" class="headerlink" title="1. 原始LBP特征描述及计算方法"></a>1. 原始LBP特征描述及计算方法</h2><p>原始的LBP算子<strong>定义在像素<code>3×3</code>的邻域内，以邻域中心像素为阈值，相邻的<code>8</code>个像素的灰度值与邻域中心的像素值进行比较，若周围像素大于中心像素值，则该像素点的位置被标记为<code>1</code>，否则为<code>0</code>。这样，<code>3×3</code>邻域内的<code>8</code>个点经过比较可产生<code>8</code>位二进制数，将这<code>8</code>位二进制数依次排列形成一个二进制数字，这个二进制数字就是中心像素的LBP值，LBP值共有<img src="https://upload-images.jianshu.io/upload_images/1351548-47cf2cc803859f62.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="">种可能，因此LBP值有<code>256</code>种。中心像素的LBP值反映了该像素周围区域的纹理信息</strong>。 </p>
<p><strong>【注】：</strong>计算LBP特征的图像必须是灰度图，如果是彩色图，需要先转换成灰度图。<br>上述过程用图像表示为： </p>
<p><img src="https://upload-images.jianshu.io/upload_images/1351548-75af9e780b0e4718.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>其对应的公式为：<br><img src="https://upload-images.jianshu.io/upload_images/1351548-9dc185d9c3156e1b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<h2 id="2-LBP特征的改进"><a href="#2-LBP特征的改进" class="headerlink" title="2. LBP特征的改进"></a>2. LBP特征的改进</h2><h3 id="2-1-圆形LBP特征（Circular-LBP-or-Extended-LBP）"><a href="#2-1-圆形LBP特征（Circular-LBP-or-Extended-LBP）" class="headerlink" title="2.1 圆形LBP特征（Circular LBP or Extended LBP）"></a>2.1 圆形LBP特征（Circular LBP or Extended LBP）</h3><p>由于原始LBP特征使用的是固定邻域内的灰度值，因此当图像的尺度发生变化时，LBP特征的编码将会发生错误，LBP特征将不能正确的反映像素点周围的纹理信息。</p>
<p>基本的LBP算子的最大缺陷在于：它只覆盖了一个固定半径范围内的小区域，这显然不能满足不同尺寸和频率纹理的需要。为了适应不同尺度的纹理特征，并达到灰度和旋转不变性的要求，将<code>3×3</code>邻域扩展到任意邻域，并用圆形邻域代替了正方形邻域，改进后的 LBP 算子允许在半径为<code>R</code>的圆形邻域内有任意多个像素点。从而得到了诸如半径为<code>R</code>的圆形区域内，含有<code>P</code>个采样点的LBP算子：</p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2018/10/25/SIFT/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2018/10/19/Opencv/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Magicmanoooo's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        838713968@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto: 838713968@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                主页
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    归档
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/12/">十二月 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/11/">十一月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/10/">十月 2018<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/09/">九月 2018<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/08/">八月 2018<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2018/07/">七月 2018<span class="sidebar_archives-count">5</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                分类
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                
            </ul>
        </li>
        
    

    <!-- Pages  -->
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                文章总数
                <span class="sidebar-badge">21</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="https://weibo.com/5345088988/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo&amp;is_all=1" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/Azurery" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    
        <a href="https://www.zhihu.com/people/zhang-tao-60-41/activities" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-zhihu">
                <span class="visuallyhidden">Zhihu</span>
            </button><!--
     --></a>
    

    <!-- Bilibili -->
    
        <a href="https://space.bilibili.com/94222521/#/" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-bilibili">
                <span class="visuallyhidden">Bilibili</span>
            </button><!--
     --></a>
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2017&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>Azurery
            
                <br>
                
                    只有永不遏止的奋斗，才能使青春之花，即使是凋谢，也是壮丽地凋谢
                
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>













<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
